<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>DoÄŸum GÃ¼nÃ¼ SÃ¼rprizi ğŸ‚</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  height:100vh;
  background:linear-gradient(135deg,#ffd1dc,#ffb7c5,#ffe6ee);
  font-family: Arial, sans-serif;
  overflow:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
}

#text{
  font-size:28px;
  color:#5a2a3a;
  line-height:1.8;
  padding:20px;
}

/* uÃ§an kedi + pasta */
#carry{
  position:fixed;
  bottom:15%;
  left:-80%;
  font-size:140px;
  display:none;
  animation:flyIn 4s forwards;
}
@keyframes flyIn{
  to{ left:50%; transform:translateX(-50%); }
}

/* pasta ortada */
#cake{
  position:fixed;
  bottom:15%;
  left:50%;
  transform:translateX(-50%);
  font-size:160px;
  display:none;
}
.candleOff{
  filter:grayscale(100%) brightness(0.8);
}

.count{
  font-size:70px;
  font-weight:bold;
}

/* mektup */
#letter{
  position:fixed;
  top:-260px;
  left:50%;
  transform:translateX(-50%);
  background:white;
  padding:22px 28px;
  border-radius:22px;
  font-size:26px;
  display:none;
  animation:drop 2.2s forwards;
}
@keyframes drop{
  to{ top:28%; }
}

/* balon */
.balloon{
  position:fixed;
  bottom:-80px;
  font-size:36px;
  animation:rise 7s linear infinite;
}
@keyframes rise{
  to{ bottom:120%; }
}

/* kÃ¼Ã§Ã¼k patlama */
.explosion{
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  font-size:70px;
  animation:boom 1.4s;
}
@keyframes boom{
  0%{opacity:0;transform:translate(-50%,-50%) scale(.4)}
  50%{opacity:1}
  100%{opacity:0;transform:translate(-50%,-50%) scale(1.2)}
}
</style>
</head>

<body>

<div id="carry">ğŸ±ğŸ‚</div>
<div id="cake">ğŸ‚</div>

<div id="letter">
  âœ‰ï¸<br><br>
  <b>Ä°yi ki doÄŸdun canÄ±m ğŸ‚</b>
</div>

<div id="text">
  <b>Koca AyÄ±dan Sana Bir SÃ¼rpriz Var ğŸ</b><br><br>
  SÃ¼rprizi gÃ¶rmek istiyorsan<br>
  <b>ekrana dokun</b>
</div>

<audio id="music">
  <source src="dogum-gunu.mp3" type="audio/mpeg">
</audio>

<script>
const text = document.getElementById("text");
const carry = document.getElementById("carry");
const cake = document.getElementById("cake");
const letter = document.getElementById("letter");
const music = document.getElementById("music");

let stage = 0;
let lock = false;

document.body.onclick = () => {
  if(lock) return;

  /* 1ï¸âƒ£ Ä°lk dokunuÅŸ */
  if(stage === 0){
    music.volume = 0.7;
    music.play().catch(()=>{});

    text.innerHTML = "";
    carry.style.display = "block";
    lock = true;

    /* kedi gider, pasta kalÄ±r */
    setTimeout(()=>{
      carry.style.display = "none";
      cake.style.display = "block";
    },4000);

    /* dilek tut */
    setTimeout(()=>{
      text.innerHTML = "PastayÄ± Ã¼flemeden Ã¶nce dilek tut âœ¨<br><span class='count'>8</span>";
      startCount();
      lock = false;
    },4300);

    stage = 1;
  }

  /* 3ï¸âƒ£ Ãœfleme (emoji yok, sadece mum sÃ¶ner efekti) */
  else if(stage === 3){
    lock = true;
    cake.classList.add("candleOff");

    setTimeout(()=>{
      cake.style.display = "none";
      setTimeout(dropLetter,1200);
    },1200);

    stage = 4;
  }

  /* 5ï¸âƒ£ Final yazÄ±lar */
  else if(stage === 5){
    showFinal();
  }
};

function startCount(){
  let n = 8;
  stage = 2;

  const interval = setInterval(()=>{
    n--;
    if(n === 0){
      clearInterval(interval);
      text.innerHTML = "PastayÄ± Ã¼flemek iÃ§in ekrana dokun";
      stage = 3;
    }else{
      document.querySelector(".count").innerText = n;
    }
  },1200);
}

/* âœ‰ï¸ mektup dÃ¼ÅŸer */
function dropLetter(){
  text.innerHTML = "";
  letter.style.display = "block";
  stage = 5;
}

/* final yazÄ±lar */
function showFinal(){
  letter.style.display = "none";
  text.innerHTML = "";

  const lines = [
    "DoÄŸum GÃ¼nÃ¼n Kutlu Olsun AÅŸkÄ±m ğŸ’š",
    "Ä°yi ki VarsÄ±n",
    "Ä°yi ki Benimlesin",
    "Birlikte SaÄŸlÄ±kla ve Mutlulukla GeÃ§ecek",
    "Nice Senelerimiz Olsun ğŸ¤",
    "Kaanâ€™dan Ä°clale",
    "DoÄŸum gÃ¼nÃ¼ sÃ¼rprizi ğŸ‚"
  ];

  let i = 0;
  const write = setInterval(()=>{
    if(i >= lines.length){
      clearInterval(write);
      balloons();
      setTimeout(explode,3000);
      return;
    }
    const d = document.createElement("div");
    d.innerText = lines[i++];
    text.appendChild(d);
  },900);
}

/* balonlar */
function balloons(){
  for(let i=0;i<12;i++){
    const b = document.createElement("div");
    b.className = "balloon";
    b.style.left = Math.random()*100 + "vw";
    b.innerText = "ğŸˆ";
    document.body.appendChild(b);
  }
}

/* kÃ¼Ã§Ã¼k patlama */
function explode(){
  const e = document.createElement("div");
  e.className = "explosion";
  e.innerText = "ğŸ†";
  document.body.appendChild(e);
}
</script>

</body>
</html>
